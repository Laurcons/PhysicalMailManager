(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),s=n(17),c=n.n(s),r=n(6),l=n(9),o=n(42),d=n.n(o).a.create({baseURL:"https://pmail.laurcons.ro/api/",withCredentials:!0}),j=n(0);function u(e){var t=Object(i.useState)(""),n=Object(r.a)(t,2),a=n[0],s=n[1],c=Object(i.useState)(""),l=Object(r.a)(c,2),o=l[0],u=l[1],b=Object(i.useState)(!1),m=Object(r.a)(b,2),h=m[0],O=m[1],p=Object(i.useState)(null),x=Object(r.a)(p,2),f=x[0],g=x[1];return Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=new FormData;n.append("username",a),n.append("password",o),O(!0),g(null),d.post("/login",n).then((function(){return d.get("/user").then((function(t){e.onLogin(t.data.data)}))})).catch((function(e){var t,n;switch(null===(t=e.response)||void 0===t?void 0:t.data.status){case"user-not-found":g("Utilizatorul nu a fost g\u0103sit!");break;case"password-invalid":g("Parola dvs. este incorect\u0103!");break;default:g("A avut loc o eroare necunoscut\u0103: "+(null===(n=e.response)||void 0===n?void 0:n.data.status))}})).finally((function(){O(!1)}))},style:{maxWidth:"480px"},children:[Object(j.jsx)("h2",{children:"Autentificare"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Nume utilizator:"}),Object(j.jsx)("input",{className:"form-control",type:"text",onChange:function(e){s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Parola:"}),Object(j.jsx)("input",{className:"form-control",type:"password",onChange:function(e){u(e.target.value)}})]}),f&&Object(j.jsx)("div",{className:"alert alert-danger",children:f}),Object(j.jsxs)("button",{className:"btn btn-primary",type:"submit",children:["Autentificare",h&&Object(j.jsx)("span",{className:"spinner-border-sm spinner-border ml-2"})]}),Object(j.jsx)("button",{className:"btn btn-secondary",onClick:e.onPageSwitch,children:"\xcenregistrare"})]})}var b=n(43);function m(e){var t=Object(i.useState)(""),n=Object(r.a)(t,2),a=n[0],s=n[1],c=Object(i.useState)(""),l=Object(r.a)(c,2),o=l[0],u=l[1],m=Object(i.useState)(""),h=Object(r.a)(m,2),O=h[0],p=h[1],x=Object(i.useState)(null),f=Object(r.a)(x,2),g=f[0],v=f[1],N=Object(i.useState)(null),y=Object(r.a)(N,2),_=y[0],S=y[1],T=Object(i.useState)(!1),I=Object(r.a)(T,2),E=I[0],P=I[1];return Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),o!==O)return void v("Parolele nu coincid!");if(0===o.trim().length||0===a.trim().length)return void v("A\u021bi l\u0103sat unul dintre c\xe2mpuri liber!");var t=new FormData;t.append("username",a),t.append("password",o),P(!0),d.post("/register",t).then((function(e){P(!1),v(null),S("Te-ai \xeenregistrat cu succes! Mergi spre autentificare.")})).catch((function(e){var t,n=null===(t=e.response)||void 0===t?void 0:t.data.status;v("username-not-unique"===n?"Numele de utilizator exist\u0103 deja! Alege\u021bi altul.":"A avut loc o eroare necunoscut\u0103.")}))},style:{maxWidth:"480px"},children:[Object(j.jsx)("h2",{children:"\xcenregistrare"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Nume utilizator:"}),Object(j.jsx)("input",{className:"form-control",type:"text",onChange:function(e){s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Parola:"}),Object(j.jsx)("input",{className:"form-control",type:"password",onChange:function(e){u(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Confirm\u0103 parola:"}),Object(j.jsx)("input",{className:"form-control",type:"password",onChange:function(e){p(e.target.value)}})]}),g&&Object(j.jsx)("div",{className:"alert alert-danger",children:g}),_&&Object(j.jsx)("div",{className:"alert alert-success",children:_}),Object(j.jsxs)("button",{className:"btn btn-primary",type:"submit",children:["\xcenregistrare",E&&Object(j.jsx)(b.a,{animation:"border",size:"sm",variant:"secondary",className:"ml-2"})]}),Object(j.jsx)("button",{className:"btn btn-secondary",onClick:e.onPageSwitch,children:"Autentificare"})]})}var h=n(3),O=n.n(h),p=n(80),x=n(7),f=n(18),g=n(8),v=n(23),N=n(21),y=n.n(N),_=n(22);function S(e){var t=[],n=[];return e.street&&n.push("Str. ".concat(e.street)),e.number&&n.push("Nr. ".concat(e.number)),t.push(n),n=[],e.block&&n.push("Bloc ".concat(e.block)),e.stair&&n.push("Scara ".concat(e.stair)),e.apartment&&n.push("Ap. ".concat(e.apartment)),t.push(n),n=[],e.locality&&e.commune&&n.push("Sat ".concat(e.locality)),e.locality&&!e.commune&&n.push("Ora\u0219 ".concat(e.locality)),e.commune&&n.push("Com. ".concat(e.commune)),t.push(n),n=[],e.county&&n.push("Jud. ".concat(e.county)),e.postalCode&&n.push("Cod po\u0219tal ".concat(e.postalCode)),t.push(n),t.filter((function(e){return e.length>0})).map((function(e){return e.join(", ")})).join("\n")}function T(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.append(n,e[n])})),t}function I(e){var t=document.location.search.substr(1).split("&").filter((function(e){return 0!==e.length})).map((function(e){var t;return Object(_.a)({},e.split("=")[0],null!==(t=e.split("=")[1])&&void 0!==t?t:"")})).reduce((function(e,t){return Object.assign(e,t)}),{});return Object.assign(t,e),"?"+Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]})).map((function(e){return e+"="+t[e]})).join("&")}function E(e){var t,n,i=new URLSearchParams(Object(x.i)().search),a=null!==(t=e.currentPage)&&void 0!==t?t:parseInt(null!==(n=i.get("p"))&&void 0!==n?n:"0");return Object(j.jsx)("nav",{children:Object(j.jsx)("ul",{className:"pagination mb-0 flex-wrap",children:Array(e.pages).fill(0).map((function(e,t){return Object(j.jsx)("li",{className:O()({"page-item":!0,active:t===a}),children:Object(j.jsx)(l.b,{to:I({p:t.toString()}),className:"page-link",children:t+1})},t)}))})})}function P(e){var t=Object(i.useState)(Object.assign({},e.subject)),n=Object(r.a)(t,2),a=n[0],s=n[1],c=Object(i.useState)(!1),l=Object(r.a)(c,2),o=l[0],d=l[1];function u(t){var n=Object.keys(e.subject).some((function(n){return e.subject[n]!==t[n]}));s(t),d(n),e.onModify&&e.onModify(t,!n)}var b=Object.keys(e.subject).filter((function(t){return e.subject[t]!==a[t]}));return Object(j.jsxs)("div",{className:"card mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Detalii"})}),Object(j.jsxs)("div",{className:"card-body p-0",children:[e.children,Object(j.jsx)("table",{className:"table table-sm table-bordered mb-0",children:Object(j.jsx)("tbody",{children:Object.keys(a).sort((function(t,n){var i,a;return e.orderTable?(null===(i=e.orderTable)||void 0===i?void 0:i.findIndex((function(e){return e===t})))-(null===(a=e.orderTable)||void 0===a?void 0:a.findIndex((function(e){return e===n}))):0})).map((function(t){var n;return Object.keys(e.translationTable).includes(t)?Object(j.jsxs)("tr",{className:O()({"bg-danger":e.isHighlighted&&b.includes(t)}),children:[Object(j.jsx)("td",{children:e.translationTable[t]}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{className:"form-control form-control-sm",type:"text",value:null!==(n=a[t])&&void 0!==n?n:"",onChange:function(e){!function(e,t){var n=Object.assign({},a);n[e]=t,u(n)}(t,e.target.value)}})})]},t):null}))})})]}),Object(j.jsxs)("div",{className:"card-footer",children:[o&&"Modificat",Object(j.jsxs)("div",{className:"btn-group float-right",children:[Object(j.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm float-right",onClick:function(){u(Object.assign({},e.subject))},children:[Object(j.jsx)("span",{className:"bi-x-circle mr-2"}),"Reseteaz\u0103"]}),Object(j.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm float-right",onClick:function(){e.onSubmit(a)},children:[Object(j.jsx)("span",{className:"bi-check-circle mr-2"}),"Salveaz\u0103"]})]})]})]})}function D(e,t){switch(t.type){case"SET_LOADING":return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.payload});case"SET_DESTINATIONS":return Object(g.a)(Object(g.a)({},e),{},{destinations:t.payload});case"UPDATE_DESTINATION":var n=Object(f.a)(e.destinations),i=n.findIndex((function(e){return e._id===t.payload._id}));return-1!==i?n[i]=t.payload:n.push(t.payload),Object(g.a)(Object(g.a)({},e),{},{destinations:n});case"REMOVE_DESTINATION":return Object(g.a)(Object(g.a)({},e),{},{destinations:e.destinations.filter((function(e){return e._id!==t.payload}))});case"SET_IS_CURRENT_MODIFIED":return Object(g.a)(Object(g.a)({},e),{},{isCurrentModified:t.payload});case"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED":return Object(g.a)(Object(g.a)({},e),{},{isPropertyEditorHighlighted:t.payload});default:throw new Error("Invalid action")}}var w=function(e){var t,n,a,s=new URLSearchParams(Object(x.i)().search),c=Object(x.h)(),o=Object(i.useReducer)(D,{destinations:[],entriesPerPage:10,isCurrentModified:!1,isPropertyEditorHighlighted:!1,isLoading:!0}),u=Object(r.a)(o,2),b=u[0],m=u[1],h=Math.floor(b.destinations.length/b.entriesPerPage)+(b.destinations.length%b.entriesPerPage!==0?1:0)+(0===b.destinations.length?1:0),p=s.get("toid")?parseInt(null!==(t=s.get("toid"))&&void 0!==t?t:"-1"):null,f=s.get("id")?parseInt(null!==(n=s.get("id"))&&void 0!==n?n:"-1"):null,g=b.destinations.find((function(e){return e._id===f})),N=parseInt(null!==(a=s.get("p"))&&void 0!==a?a:"0");if(Object(i.useEffect)((function(){d.get("/destinations").then((function(e){m({type:"SET_DESTINATIONS",payload:e.data.data}),m({type:"SET_LOADING",payload:!1})}))}),[]),null!==p&&!b.isLoading){var _=Math.floor(b.destinations.findIndex((function(e){return e._id===p}))/b.entriesPerPage);c.push("?p=".concat(_,"&id=").concat(p))}function T(e){if(b.isCurrentModified)w();else{var t=e===f?null:e.toString();c.push(I({id:t}))}}function w(){m({type:"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED",payload:!0}),setTimeout((function(){m({type:"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED",payload:!1})}),250)}return b.isLoading?Object(j.jsx)("span",{className:"spinner spinner-border"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{when:b.isCurrentModified,message:"Ave\u021bi modific\u0103ri nesalvate! Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 p\u0103r\u0103si\u021bi pagina?"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:g?"col-md-8":"col-12",children:[Object(j.jsxs)("div",{className:"d-flex mb-2",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsxs)("button",{className:"btn btn-primary",onClick:function(){b.isCurrentModified?w():d.post("/destination").then((function(e){m({type:"UPDATE_DESTINATION",payload:e.data.data})}))},children:[Object(j.jsx)("span",{className:"bi-person-plus mr-2"}),"Adaug\u0103 destinatar"]})}),Object(j.jsx)("div",{className:"overflow-scroll",children:Object(j.jsx)(E,{pages:h,currentPage:N})})]}),Object(j.jsxs)("table",{className:"table table-bordered table-hover table-responsive-md",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nume"}),Object(j.jsx)("th",{children:"Adresa"}),Object(j.jsx)("th",{children:"Observa\u021bii"}),!g&&Object(j.jsx)("th",{children:"Op\u021biuni"})]})}),Object(j.jsx)("tbody",{children:b.destinations.sort((function(e,t){return e.name>t.name?1:-1})).slice(b.entriesPerPage*N,b.entriesPerPage*N+b.entriesPerPage).map((function(e,t){return Object(j.jsxs)("tr",{className:O()({"table-active":e._id===f&&!b.isCurrentModified,"table-warning":e._id===f&&b.isCurrentModified}),style:{cursor:"pointer"},children:[Object(j.jsxs)("td",{onClick:function(){return T(e._id)},children:[Object(j.jsx)("span",{className:"badge badge-danger",children:N*b.entriesPerPage+t+1}),Object(j.jsx)("span",{className:"badge badge-info",children:e._id}),"\xa0",e.name]},e.name),Object(j.jsx)("td",{onClick:function(){return T(e._id)},children:S(e).split("\n").map((function(e){return Object(j.jsxs)(j.Fragment,{children:[e,Object(j.jsx)("br",{})]})}))},t+"-1"),Object(j.jsx)("td",{onClick:function(){return T(e._id)},children:e.observations},t+"-2"),!g&&Object(j.jsx)("td",{children:Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2",to:"/letters/all?d="+e._id,children:[Object(j.jsx)("span",{className:"bi-table mr-2"}),"Toate scrisorile destinatarului"]})})]},y()(e))}))})]}),Object(j.jsx)("div",{className:"overflow-scroll",children:Object(j.jsx)(E,{pages:h,currentPage:N})})]}),Object(j.jsx)("div",{className:"col",children:g&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card mb-2",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Op\u021biuni"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2",to:"/letters/all?d="+g._id,children:[Object(j.jsx)("span",{className:"bi-table mr-2"}),"Toate scrisorile destinatarului"]}),Object(j.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){if(window.confirm("Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 \u0219terge\u021bi acest destinatar?\n"+(null===g||void 0===g?void 0:g.name))){var e=new FormData;e.append("_method","delete"),d.post("/destination/".concat(null===g||void 0===g?void 0:g._id),e).then((function(e){var t;m({type:"REMOVE_DESTINATION",payload:null!==(t=null===g||void 0===g?void 0:g._id)&&void 0!==t?t:-1})}))}},children:[Object(j.jsx)("span",{className:"bi-person-dash mr-2"}),"\u0218terge destinatar"]})]})]}),Object(j.jsx)(P,{subject:null!==g&&void 0!==g?g:{},onSubmit:function(e){var t,n=new FormData,i=Object.keys(null!==g&&void 0!==g?g:{}).filter((function(t){return g[t]!==e[t]})),a=Object(v.a)(i);try{for(a.s();!(t=a.n()).done;){var s,c=t.value;n.append(c,null!==(s=e[c])&&void 0!==s?s:"")}}catch(r){a.e(r)}finally{a.f()}n.append("_method","patch"),d.post("/destination/".concat(e._id),n).then((function(t){m({type:"UPDATE_DESTINATION",payload:e}),m({type:"SET_IS_CURRENT_MODIFIED",payload:!1})}))},onModify:function(e,t){m({type:"SET_IS_CURRENT_MODIFIED",payload:!t})},isHighlighted:b.isPropertyEditorHighlighted,translationTable:{name:"Nume",street:"Strada",number:"Num\u0103rul",block:"Bloc",stair:"Scara",apartment:"Apartament",locality:"Localitate",commune:"Comuna",county:"Jude\u021bul",postalCode:"Cod po\u0219tal",observations:"Observa\u021bii"},orderTable:["name","street","number","block","stair","apartment","locality","commune","county","postalCode","observations"]},y()(g))]})})]})]})},C=n(78),k=n(79);var A=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Bine a\u021bi venit \xeen Managerul de Po\u0219t\u0103 Fizic\u0103!"}),Object(j.jsx)("p",{children:"Acesta reprezint\u0103 proiectul lui Pricop Lauren\u021biu pentru Atestatul de sf\xe2r\u0219it de clasa a XII-a. \xcens\u0103, am dorit s\u0103 fac aceast\u0103 aplica\u021bie capabil\u0103 de a fi hostat\u0103 public, \u0219i probabil va primi actualiz\u0103ri de-a lungul timpului!"}),Object(j.jsxs)("p",{children:["Versiunea aplica\u021biei: v1.2",Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:function(){return s(!0)},children:"Changelog"})]}),Object(j.jsx)(C.a,{variant:"secondary",onClick:function(){d.post("/logout").then((function(){e.onLogout("user-initiated")}))},children:"Deautentificare"}),Object(j.jsxs)(k.a,{show:a,onHide:function(){return s(!1)},scrollable:!0,children:[Object(j.jsx)(k.a.Header,{closeButton:!0,children:Object(j.jsx)(k.a.Title,{children:"Log de schimb\u0103ri"})}),Object(j.jsxs)(k.a.Body,{children:[Object(j.jsx)("h4",{children:"Versiunea v1.2"}),Object(j.jsxs)("ul",{className:"list-group mb-3",children:[Object(j.jsx)("li",{className:"list-group-item bi-plus",children:"\xa0S-au ad\u0103ugat iconi\u021be pe majoritatea butoanelor aplica\u021biei"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0Linkurile care trimit de la destinatar la scrisori sau invers acum func\u021bioneaz\u0103 corect \xeen toate circumstan\u021bele"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0S-au reparat probleme de pe pagina de autentificare/\xeenregistrare"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0Ordinea c\xe2mpurilor \xeen editorul de scrisori este acum logic\u0103"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0Vizualizarea grupat\u0103 a scrisorilor este acum mai u\u0219or \u0219i logic de navigat"})]}),Object(j.jsx)("h4",{children:"Versiunea v1.1"}),Object(j.jsxs)("ul",{className:"list-group",children:[Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0Linkurile care trimit de la destinatar la scrisori sau invers acum func\u021bioneaz\u0103 corect \xeen toate circumstan\u021bele"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0\u201eToate scrisorile destinatarului\u201d de pe pagina Destinatari acum trimite la vizualizarea Tabel a scrisorilor"}),Object(j.jsx)("li",{className:"list-group-item bi-plus",children:"\xa0Pagina cu scrisorile grupate acum afi\u0219eaz\u0103 mesaje de eroare relevante"}),Object(j.jsx)("li",{className:"list-group-item bi-check",children:"\xa0Pagina cu scrisorile tabelate acum reac\u021bioneaz\u0103 mai bine \xeen timpul filtr\u0103rii"}),Object(j.jsx)("li",{className:"list-group-item bi-plus",children:"\xa0Pagina cu scrisorile grupate acum afi\u0219eaz\u0103 \u201e(f\u0103r\u0103)\u201d dac\u0103 codul scrisorii nu este completat"})]})]}),Object(j.jsx)(k.a.Footer,{children:Object(j.jsx)("div",{className:"btn btn-primary",onClick:function(){return s(!1)},children:"\xcenchide"})})]})]})};function R(e){var t,n,a=Object(x.h)(),s=new URLSearchParams(window.location.search),c=s.get("id")?parseInt(null!==(t=s.get("id"))&&void 0!==t?t:"0"):null,r=s.get("toid")?parseInt(null!==(n=s.get("toid"))&&void 0!==n?n:"0"):null,o=e.destinations.filter((function(t){return e.letters.map((function(e){return e.destinationId})).includes(t._id)})).sort((function(e,t){return e.name>t.name?1:-1}));return Object(i.useEffect)((function(){var e;null===(e=document.getElementById("id_"+c))||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[c]),null!==r?(a.push("?id=".concat(r)),null):Object(j.jsxs)(j.Fragment,{children:[null!==c&&!o.map((function(e){return e._id})).includes(null!==c&&void 0!==c?c:-1)&&Object(j.jsx)("div",{className:"alert alert-danger",children:function(){var t,n=e.destinations.find((function(e){return e._id===c}));return Object(j.jsxs)(j.Fragment,{children:["Destinatarul ",null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:"dorit"," nu are nicio scrisoare asociat\u0103, a\u0219adar nu se afl\u0103 \xeen aceast\u0103 list\u0103."]})}()}),o.map((function(t,n){var i=e.letters.filter((function(e){return e.destinationId===t._id})),a=i.filter((function(e){return"incoming"===e.type})),s=i.filter((function(e){return"outgoing"===e.type}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card mb-3",children:[Object(j.jsxs)("div",{className:"card-header position-relative",children:[Object(j.jsxs)("h5",{className:"card-title d-inline",id:"id_"+t._id,children:[Object(j.jsx)("span",{className:"badge badge-danger",children:n+1}),Object(j.jsx)("span",{className:"badge badge-info mr-2",children:t._id}),Object(j.jsx)("span",{className:"bi-person mr-2"}),t.name,Object(j.jsxs)("span",{className:"badge badge-info ml-2",children:[i.length," scrisori"]})]}),c===t._id?Object(j.jsxs)(l.b,{className:"btn btn-primary float-right stretched-link",to:"?",children:[Object(j.jsx)("span",{className:"bi-caret-up mr-2"}),"Ascunde"]}):Object(j.jsxs)(l.b,{className:"btn btn-primary float-right stretched-link",to:"?id="+t._id,children:[Object(j.jsx)("span",{className:"bi-caret-down mr-2"}),"Arat\u0103"]})]}),c===t._id&&Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md",children:[Object(j.jsx)("h5",{children:"Primite"}),Object(j.jsxs)("table",{className:"table table-striped table-bordered table-hover table-sm table-responsive-md",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Cod"}),Object(j.jsx)("th",{children:"Primit\u0103 la"}),Object(j.jsx)("th",{children:"De m\xe2n\u0103?"}),Object(j.jsx)("th",{children:"Observa\u021bii"})]})}),Object(j.jsxs)("tbody",{children:[a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{className:"badge badge-danger",children:t+1}),Object(j.jsx)("span",{className:"badge badge-info mr-2",children:e._id}),Object(j.jsx)(l.b,{to:"/letters/all?toid="+e._id,children:0!==e.code.length?e.code:"(f\u0103r\u0103)"})]}),Object(j.jsx)("td",{children:e.receivedDate}),Object(j.jsx)("td",{children:e.handwritten}),Object(j.jsx)("td",{children:e.observations})]})})),0===a.length&&Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:4,children:[Object(j.jsx)("span",{className:"bi-x-circle mr-2"}),"Nu sunt scrisori."]})})]})]})]}),Object(j.jsxs)("div",{className:"col-md",children:[Object(j.jsx)("h5",{children:"Trimise"}),Object(j.jsxs)("table",{className:"table table-striped table-bordered table-hover table-sm table-responsive-md",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Cod"}),Object(j.jsx)("th",{children:"Traseu"}),Object(j.jsx)("th",{children:"De m\xe2n\u0103?"}),Object(j.jsx)("th",{children:"Observa\u021bii"})]})}),Object(j.jsxs)("tbody",{children:[s.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{className:"badge badge-danger",children:t+1}),Object(j.jsx)("span",{className:"badge badge-info mr-2",children:e._id}),Object(j.jsx)(l.b,{to:"/letters/all?toid="+e._id,children:0!==e.code.length?e.code:"(f\u0103r\u0103)"})]}),Object(j.jsxs)("td",{children:[e.writtenDate&&Object(j.jsxs)(j.Fragment,{children:["Scris\u0103: ",e.writtenDate,Object(j.jsx)("br",{})]}),e.sentDate&&Object(j.jsxs)(j.Fragment,{children:["Trimis\u0103: ",e.sentDate,Object(j.jsx)("br",{})]}),e.receivedDate&&Object(j.jsxs)(j.Fragment,{children:["Primit\u0103: ",e.receivedDate,Object(j.jsx)("br",{})]})]}),Object(j.jsx)("td",{children:e.handwritten}),Object(j.jsx)("td",{children:e.observations})]})})),0===s.length&&Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:4,children:[Object(j.jsx)("span",{className:"bi-x-circle mr-2"}),"Nu sunt scrisori."]})})]})]})]})]})})]},t._id)})}))]})}function M(e){var t=Object(i.useState)("incoming"),n=Object(r.a)(t,2),a=n[0],s=n[1],c=Object(i.useState)(-1),l=Object(r.a)(c,2),o=l[0],d=l[1];return Object(j.jsx)(k.a,{show:e.show,onHide:e.onHide,children:Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(a,o)},children:[Object(j.jsx)(k.a.Header,{closeButton:!0,children:Object(j.jsx)(k.a.Title,{children:"Adaug\u0103 scrisoare nou\u0103"})}),Object(j.jsx)(k.a.Body,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Tip scrisoare:"}),Object(j.jsxs)("select",{className:"form-control",value:a,onChange:function(e){return s(e.target.value)},children:[Object(j.jsx)("option",{value:"incoming",children:"Primit\u0103"}),Object(j.jsx)("option",{value:"outgoing",children:"Trimis\u0103"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"incoming"===a?"Expeditor:":"Destinatar:"}),Object(j.jsxs)("select",{className:"form-control",value:null!==o&&void 0!==o?o:0,onChange:function(e){return d(parseInt(e.target.value))},children:[Object(j.jsx)("option",{value:-1,disabled:!0,children:"Selecteaz\u0103..."},-1),e.destinations.map((function(e){return Object(j.jsxs)("option",{value:e._id,children:[e.name,", ",e.street," ",e.number,", ",e.locality," ",e.commune," ",e.postalCode]},e._id)}))]})]}),Object(j.jsx)("p",{children:"Acestea reprezint\u0103 datele necesare pentru crearea unei scrisori. Celelalte date pot fi ad\u0103ugate ulterior."})]})}),Object(j.jsxs)(k.a.Footer,{children:[Object(j.jsx)("button",{className:"btn btn-outline-primary",type:"button",onClick:e.onHide,children:"Anuleaz\u0103"}),Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:!(-1!==o),children:"Adaug\u0103"})]})]})})}function F(e){var t,n,a,s,c,o,d,u,b,m,h,p,f=Object(x.i)(),g=new URLSearchParams(f.search),v=parseInt(null!==(t=g.get("p"))&&void 0!==t?t:"0"),N=g.get("id")?parseInt(null!==(n=g.get("id"))&&void 0!==n?n:"0"):null,_=g.get("toid")?parseInt(null!==(a=g.get("toid"))&&void 0!==a?a:"0"):null,S=Object(i.useReducer)(L,{entriesPerPage:10,isAddNewModalShown:!1,isCurrentModified:!1,isPropertyEditorHighlighted:!1}),T=Object(r.a)(S,2),D=T[0],w=T[1],C=Object(x.h)(),k=g.get("d")?parseInt(null!==(s=g.get("d"))&&void 0!==s?s:"-1"):null,A="null"!==g.get("t")&&null!==(c=g.get("t"))&&void 0!==c?c:null,R=e.letters.filter((function(e){var t=!0;return null!==A&&(t=t&&e.type===A),null!==k&&(t=t&&e.destinationId===k),t})),F=Math.floor(R.length/D.entriesPerPage)+(R.length%D.entriesPerPage!==0?1:0),H=null!==(o=R.find((function(e){return e._id===N})))&&void 0!==o?o:null;if(null!==_){var z=Math.floor(R.findIndex((function(e){return e._id===_}))/D.entriesPerPage);return C.push(I({toid:null,id:_,p:z})),null}function U(e){w({type:"SET_ADD_NEW_MODAL_SHOWN",payload:e})}function G(e){var t;if(D.isCurrentModified)return w({type:"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED",payload:!0}),void setTimeout((function(){w({type:"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED",payload:!1})}),500);t=N===e?null:e.toString(),C.push(I({id:t}))}function B(t){return e.destinations.find((function(e){return e._id===t}))}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{when:D.isCurrentModified,message:"Ave\u021bi modific\u0103ri nesalvate! Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 p\u0103r\u0103si\u021bi pagina?"}),Object(j.jsx)(M,{destinations:e.destinations,show:D.isAddNewModalShown,onHide:function(){return U(!1)},onSubmit:function(t,n){U(!1),e.onAddNew(t,n)}}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:O()({"col-md-8":H,"col-md-12":!H}),children:[Object(j.jsxs)("div",{className:"d-flex mb-2",children:[Object(j.jsx)("div",{className:"mr-2",children:Object(j.jsxs)("button",{className:"btn btn-primary",onClick:function(){return U(!0)},children:[Object(j.jsx)("span",{className:"bi-file-plus mr-2"}),"Adaug\u0103 scrisoare"]})}),Object(j.jsx)(E,{pages:F})]}),Object(j.jsxs)("div",{className:"d-flex mb-2",children:[Object(j.jsxs)("div",{className:"btn-group mr-2",children:[Object(j.jsxs)("button",{className:O()({btn:!0,"btn-outline-primary":"incoming"!==A,"btn-primary":"incoming"===A}),onClick:function(){"incoming"===A?C.push(I({t:null})):C.push(I({t:"incoming"}))},children:[Object(j.jsx)("span",{className:"bi-file-arrow-down mr-2"}),"Numai primite"]}),Object(j.jsxs)("button",{className:O()({btn:!0,"btn-outline-primary":"outgoing"!==A,"btn-primary":"outgoing"===A}),onClick:function(){"outgoing"===A?C.push(I({t:null})):C.push(I({t:"outgoing"}))},children:[Object(j.jsx)("span",{className:"bi-file-arrow-up mr-2"}),"Numai trimise"]})]}),Object(j.jsx)("div",{className:"form-group m-0",children:Object(j.jsxs)("select",{className:"form-control",value:null!==k&&void 0!==k?k:-1,onChange:function(e){C.push(I({d:"-1"!==e.target.value?e.target.value:null}))},children:[Object(j.jsx)("option",{value:-1,children:"To\u021bi destinatarii"},-1),k&&!R.map((function(e){return e.destinationId})).includes(k)&&Object(j.jsxs)("option",{value:k,children:["Numai ",null!==(d=null===(u=B(k))||void 0===u?void 0:u.name)&&void 0!==d?d:"(neg\u0103sit)"]},k),e.destinations.filter((function(t){return e.letters.map((function(e){return e.destinationId})).includes(t._id)})).map((function(e){return Object(j.jsxs)("option",{value:e._id,children:["Numai ",e.name]},e._id)}))]})})]}),Object(j.jsxs)("table",{className:O()({"table table-bordered table-hover table-responsive-md":!0,"d-none d-md-table":H}),children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Cod"}),Object(j.jsx)("th",{children:"Pentru/De la"}),Object(j.jsx)("th",{children:"Tip"}),Object(j.jsx)("th",{children:"Detalii"}),Object(j.jsx)("th",{children:"Observa\u021bii"}),!H&&Object(j.jsx)("th",{children:"Op\u021biuni"})]})}),Object(j.jsxs)("tbody",{children:[0===R.length&&Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:6,children:["Nu exist\u0103 scrisori ",R.length!==e.letters.length&&"cu filtrele selectate","."]})}),R.slice(D.entriesPerPage*v,D.entriesPerPage*v+D.entriesPerPage).map((function(e,t){var n,i,a,s;return Object(j.jsxs)("tr",{className:O()({"table-active":N===e._id&&!D.isCurrentModified,"table-warning":N===e._id&&D.isCurrentModified}),children:[Object(j.jsxs)("td",{style:{cursor:"pointer"},onClick:function(){return G(e._id)},children:[Object(j.jsx)("span",{className:"badge badge-danger",children:v*D.entriesPerPage+t+1}),Object(j.jsx)("span",{className:"badge badge-info",children:e._id}),"\xa0",e.code]}),Object(j.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return G(e._id)},children:null===(n=B(e.destinationId))||void 0===n?void 0:n.name}),Object(j.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return G(e._id)},children:"incoming"===e.type?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi-arrow-down mr-2"}),"Primit\u0103"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"bi-arrow-up mr-2"}),"Trimis\u0103"]})}),Object(j.jsxs)("td",{style:{cursor:"pointer"},onClick:function(){return G(e._id)},children:[e.handwritten&&Object(j.jsxs)(j.Fragment,{children:["De m\xe2n\u0103: ",e.handwritten,Object(j.jsx)("br",{})]}),"outgoing"===e.type&&Object(j.jsxs)(j.Fragment,{children:[e.writtenDate&&Object(j.jsxs)(j.Fragment,{children:["Scris\u0103: ",e.writtenDate,Object(j.jsx)("br",{})]}),e.sentDate&&Object(j.jsxs)(j.Fragment,{children:["Trimis\u0103: ",e.sentDate,Object(j.jsx)("br",{})]})]}),e.receivedDate&&Object(j.jsxs)(j.Fragment,{children:["Primit\u0103: ",e.receivedDate,Object(j.jsx)("br",{})]}),e.price&&Object(j.jsxs)(j.Fragment,{children:["Pre\u021b: ",e.price]})]}),Object(j.jsx)("td",{style:{cursor:"pointer"},onClick:function(){return G(e._id)},children:e.observations}),!H&&Object(j.jsxs)("td",{children:[Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2 mr-2",to:"/letters/group?id="+(null===(i=B(e.destinationId))||void 0===i?void 0:i._id)+"#id_"+(null===(a=B(e.destinationId))||void 0===a?void 0:a._id),children:[Object(j.jsx)("span",{className:"bi-card-list mr-2"}),"Toate scrisorile"]}),Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2 mr-2",to:"/destinations?toid="+(null===(s=B(e.destinationId))||void 0===s?void 0:s._id),children:[Object(j.jsx)("span",{className:"bi-person mr-2"}),"Detalii destinatar"]})]})]},e._id)}))]})]}),Object(j.jsx)(E,{pages:F})]}),Object(j.jsx)("div",{className:"col",children:H&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card mb-2 d-md-none",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Scrisoarea curent\u0103"})}),Object(j.jsxs)("div",{className:"card-body",children:["incoming"===H.type?"Expeditor":"Destinatar",":\xa0",null===(b=B(H.destinationId))||void 0===b?void 0:b.name,Object(j.jsx)("br",{}),"Tip: ","incoming"===H.type?"Primit\u0103":"Trimis\u0103",Object(j.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){C.push(I({id:null}))},children:"\xcenapoi la lista scrisorilor"})]})]}),Object(j.jsxs)("div",{className:"card mb-2",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Op\u021biuni"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2",to:"/letters/group?id="+(null===(m=B(H.destinationId))||void 0===m?void 0:m._id)+"#id_"+(null===(h=B(H.destinationId))||void 0===h?void 0:h._id),children:[Object(j.jsx)("span",{className:"bi-card-list mr-2"}),"Toate scrisorile destinatarului"]}),Object(j.jsxs)(l.b,{className:"btn btn-primary btn-sm mb-2",to:"/destinations?toid="+(null===(p=B(H.destinationId))||void 0===p?void 0:p._id),children:[Object(j.jsx)("span",{className:"bi-person mr-2"}),"Detalii destinatar"]}),Object(j.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){H&&e.onRemove(H)},children:[Object(j.jsx)("span",{className:"bi-file-minus mr-2"}),"\u0218terge scrisoare"]})]})]}),Object(j.jsx)(P,{subject:H,onModify:function(e,t){w({type:"SET_IS_CURRENT_MODIFIED",payload:!t})},onSubmit:function(t){H&&e.onModify(t,H).then((function(){w({type:"SET_IS_CURRENT_MODIFIED",payload:!1})}))},translationTable:{code:"Cod",handwritten:"De m\xe2n\u0103",receivedDate:"Primit",price:"Pre\u021b",observations:"Observa\u021bii",writtenDate:"Scris",sentDate:"Trimis"},orderTable:["code","handwritten","writtenDate","sentDate","receivedDate","price","observations"],isHighlighted:D.isPropertyEditorHighlighted},y()(H))]})})]})]})}function L(e,t){switch(t.type){case"SET_ADD_NEW_MODAL_SHOWN":return Object(g.a)(Object(g.a)({},e),{},{isAddNewModalShown:t.payload});case"SET_IS_CURRENT_MODIFIED":return Object(g.a)(Object(g.a)({},e),{},{isCurrentModified:t.payload});case"SET_IS_PROPERTY_EDITOR_HIGHLIGHTED":return Object(g.a)(Object(g.a)({},e),{},{isPropertyEditorHighlighted:t.payload});default:throw new Error}}function H(){var e=Object(x.j)(),t=Object(i.useReducer)(U,{isLoading:!0,letters:[],destinations:[]}),n=Object(r.a)(t,2),a=n[0],s=n[1];function c(e,t){Promise.all([d.post("/letter",T({type:e,destinationId:t})),a.destinations.map((function(e){return e._id})).includes(t)?void 0:d.get("/destination/"+t).then((function(e){s({type:"PUSH_DESTINATIONS",payload:[e.data.data]})}))]).then((function(e){s({type:"PUSH_LETTERS",payload:[e[0].data.letter]})}))}function l(e,t){var n,i=e,a=new FormData,c=Object.keys(null!==t&&void 0!==t?t:{}).filter((function(n){return t[n]!==e[n]})),r=Object(v.a)(c);try{for(r.s();!(n=r.n()).done;){var l,o=n.value;a.append(o,null!==(l=e[o])&&void 0!==l?l:"")}}catch(j){r.e(j)}finally{r.f()}return a.append("_method","patch"),d.post("/letter/"+i._id,a).then((function(e){s({type:"PUSH_LETTERS",payload:[e.data.letter]})}))}function o(e){var t,n,i;window.confirm("Sunte\u021bi sigur c\u0103 dori\u021bi s\u0103 \u0219terge\u021bi scrisoarea?\nNumele: "+(null===(i=null!==(n=null===e||void 0===e?void 0:e.destinationId)&&void 0!==n?n:-1,t=a.destinations.find((function(e){return e._id===i})))||void 0===t?void 0:t.name))&&d.post("/letter/"+(null===e||void 0===e?void 0:e._id),T({_method:"delete"})).then((function(e){s({type:"REMOVE_LETTER_ID",payload:e.data.letter._id})}))}return Object(i.useEffect)((function(){Promise.all([d.get("/letters").then((function(e){var t=e.data.letters;s({type:"PUSH_LETTERS",payload:t})})),d.get("/destinations").then((function(e){var t=e.data.data;s({type:"PUSH_DESTINATIONS",payload:t.sort((function(e,t){return e.name>t.name?1:-1}))})}))]).then((function(){s({type:"SET_LOADING",payload:!1})}))}),[]),a.isLoading?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("span",{className:"spinner-border"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("ul",{className:"nav nav-pills mb-2",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(z,{text:"Toate",icon:"bi-table",to:"".concat(e.url,"/all")})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(z,{text:"Grupate",icon:"bi-card-list",to:"".concat(e.url,"/group")})})]}),Object(j.jsxs)(x.e,{children:[Object(j.jsx)(x.c,{path:e.url,exact:!0,children:Object(j.jsx)(x.b,{to:"".concat(e.url,"/all")})}),Object(j.jsx)(x.c,{path:"".concat(e.url,"/all"),children:Object(j.jsx)(F,{letters:a.letters,destinations:a.destinations,onAddNew:c,onModify:l,onRemove:o})}),Object(j.jsx)(x.c,{path:"".concat(e.url,"/group"),children:Object(j.jsx)(R,{letters:a.letters,destinations:a.destinations,onAddNew:c,onModify:l,onRemove:o})})]})]})}function z(e){var t=Object(x.j)({path:e.to,exact:e.activeOnlyWhenExact});return Object(j.jsxs)(l.b,{to:e.to,className:O()({"nav-link":!0,active:t}),children:[e.icon&&Object(j.jsx)("span",{className:"".concat(e.icon," mr-2")}),e.text]})}function U(e,t){switch(t.type){case"SET_LOADING":return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.payload});case"PUSH_LETTERS":var n=Object(f.a)(e.letters);return Object(f.a)(t.payload).forEach((function(t){var i=e.letters.findIndex((function(e){return e._id===t._id}));-1===i?n.push(t):n[i]=t})),n.sort((function(e,t){return-(e.timestamp!==t.timestamp?e.timestamp-t.timestamp:e._id-t._id)})),Object(g.a)(Object(g.a)({},e),{},{letters:n});case"PUSH_DESTINATIONS":var i=Object(f.a)(e.destinations);return Object(f.a)(t.payload).forEach((function(t){var n=e.destinations.findIndex((function(e){return e._id===t._id}));-1===n?i.push(t):i[n]=t})),Object(g.a)(Object(g.a)({},e),{},{destinations:i});case"REMOVE_LETTER_ID":var a=Object(f.a)(e.letters);return a=a.filter((function(e){return e._id!==t.payload})),Object(g.a)(Object(g.a)({},e),{},{letters:a});default:throw new Error}}function G(e){var t=e.label,n=e.to,i=e.activeOnlyWhenExact,a=Object(x.j)({path:n,exact:i});return Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.b,{className:O()({"nav-link":!0,active:a}),to:n,children:t})})}var B=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(p.a,{variant:"tabs",className:"",children:[Object(j.jsx)(p.a.Item,{children:Object(j.jsx)(G,{label:"General",to:"/general"})}),Object(j.jsx)(p.a.Item,{children:Object(j.jsx)(G,{label:"Destinatari",to:"/destinations"})}),Object(j.jsx)(p.a.Item,{children:Object(j.jsx)(G,{label:"Scrisori",to:"/letters"})})]}),Object(j.jsx)("div",{className:"border-right border-left border-bottom p-2",children:Object(j.jsxs)(x.e,{children:[Object(j.jsx)(x.c,{path:"/general",children:Object(j.jsx)(A,{onLogout:e.onLogout})}),Object(j.jsx)(x.c,{path:"/destinations",children:Object(j.jsx)(w,{})}),Object(j.jsx)(x.c,{path:"/letters",children:Object(j.jsx)(H,{})}),Object(j.jsx)(x.c,{children:Object(j.jsx)(x.b,{to:"/general"})})]})}),Object(j.jsx)("div",{className:"float-right border border-top-0 px-2 py-0 text-muted",children:Object(j.jsx)("small",{children:"Platform\u0103 de Pricop Lauren\u021biu"})})]})};var V=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(!0),c=Object(r.a)(s,2),o=c[0],b=c[1],h=Object(i.useState)(null),O=Object(r.a)(h,2),p=O[0],x=O[1],f=Object(i.useState)("login"),g=Object(r.a)(f,2),v=g[0],N=g[1],y=Object(i.useState)((function(){var e=(new Date).getHours();return!(e>=7&&e<=18)})),_=Object(r.a)(y,2),S=_[0],T=_[1];return Object(i.useEffect)((function(){d.get("/user").then((function(e){a(e.data.data),b(!1)})).catch((function(e){var t,n=null===(t=e.response)||void 0===t?void 0:t.data;!n||"access-denied"===n.status&&"not-logged-in"===n.reason?b(!1):x("Nu se poate comunica cu serverul, acesta a returnat o eroare.")}))}),[]),Object(i.useEffect)((function(){!function(){var e,t=document.getElementById("stylesheetLink");if(!t)return void alert("Nu s-a g\u0103sit elementul <link> necesar. Nu se poate continua.");var n=null!==(e=t.getAttribute("data-prefix"))&&void 0!==e?e:"";S?t.setAttribute("href",n+"/style/bootstrap.superhero.min.css"):t.setAttribute("href",n+"/style/bootstrap.united.min.css")}()}),[S]),Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"container py-3 px-md-0 px-1",children:[Object(j.jsxs)("div",{className:"clearfix mb-2 mx-2 mx-md-0",children:[Object(j.jsx)("h1",{className:"d-inline",children:"Manager Po\u0219t\u0103 Fizic\u0103"}),Object(j.jsxs)("button",{className:"btn btn-outline-primary float-right btn-sm",onClick:function(){return T(!S)},children:[S&&"Mod \xeentunecat",!S&&"Mod luminos"]})]}),Object(j.jsx)("div",{className:"d-md-none alert alert-warning",children:"Folosi\u021bi un dispozitiv mobil. Aceast\u0103 aplica\u021bie web nu este (\xeenc\u0103) optimizat\u0103 pentru o experien\u021b\u0103 mobil\u0103, dar pute\u021bi continua."}),p&&Object(j.jsx)("div",{className:"alert alert-danger",children:p}),o&&Object(j.jsx)("span",{className:"spinner-border"}),!n&&!o&&"login"===v&&Object(j.jsx)(u,{onLogin:function(e){a(e)},onPageSwitch:function(){N("register")}}),!n&&!o&&"register"===v&&Object(j.jsx)(m,{onPageSwitch:function(){N("login")}}),n&&!o&&Object(j.jsx)(B,{user:n,onLogout:function(e){a(null)}})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),s(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(V,{})}),document.getElementById("root")),W()}},[[76,1,2]]]);
//# sourceMappingURL=main.c5bcba06.chunk.js.map